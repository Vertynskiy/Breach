"""\nSave and load game state management\nHandles persistent game data\n"""\n\nimport json\nimport os\nfrom datetime import datetime\n\nclass SaveManager:\n    """Manages game saves and loads"""
    \n    SAVE_DIR = "saves"\n    SAVE_FORMAT = "breach_save_{}.json"\n    \n    def __init__(self):\n        """Initialize save manager"""
        if not os.path.exists(self.SAVE_DIR):\n            os.makedirs(self.SAVE_DIR)\n        \n    def save_game(self, game_state, slot=1):\n        """Save game state to file"""
        try:\n            save_data = {\n                'timestamp': datetime.now().isoformat(),\n                'day': game_state.current_day,\n                'difficulty': game_state.difficulty,\n                'resources': game_state.resource_manager.resources,\n                'sanity': game_state.sanity_system.sanity,\n                'sanity_state': game_state.sanity_system.current_state,\n                'events_encountered': game_state.event_generator.events_encountered,\n                'found_logs': getattr(game_state, 'found_logs', [])\n            }\n            \n            filepath = os.path.join(self.SAVE_DIR, self.SAVE_FORMAT.format(slot))\n            with open(filepath, 'w') as f:\n                json.dump(save_data, f, indent=2)\n            return True\n        except Exception as e:\n            print(f"Error saving game: {e}")\n            return False\n        \n    def load_game(self, game_state, slot=1):\n        """Load game state from file"""
        try:\n            filepath = os.path.join(self.SAVE_DIR, self.SAVE_FORMAT.format(slot))\n            if not os.path.exists(filepath):\n                return False\n            \n            with open(filepath, 'r') as f:\n                save_data = json.load(f)\n            \n            game_state.current_day = save_data['day']\n            game_state.difficulty = save_data['difficulty']\n            game_state.resource_manager.resources = save_data['resources']\n            game_state.sanity_system.sanity = save_data['sanity']\n            game_state.sanity_system.current_state = save_data['sanity_state']\n            game_state.event_generator.events_encountered = save_data['events_encountered']\n            game_state.found_logs = save_data.get('found_logs', [])\n            \n            return True\n        except Exception as e:\n            print(f"Error loading game: {e}")\n            return False\n        \n    def get_save_list(self):\n        """Get list of available saves"""
        saves = {}\n        for i in range(1, 4):\n            filepath = os.path.join(self.SAVE_DIR, self.SAVE_FORMAT.format(i))\n            if os.path.exists(filepath):\n                try:\n                    with open(filepath, 'r') as f:\n                        data = json.load(f)\n                        saves[i] = {\n                            'timestamp': data.get('timestamp', 'Unknown'),\n                            'day': data.get('day', '?')\n                        }\n                except:\n                    pass\n        return saves\n        \n    def delete_save(self, slot=1):\n        """Delete a save file"""
        try:\n            filepath = os.path.join(self.SAVE_DIR, self.SAVE_FORMAT.format(slot))\n            if os.path.exists(filepath):\n                os.remove(filepath)\n                return True\n        except Exception as e:\n            print(f"Error deleting save: {e}")\n        return False
